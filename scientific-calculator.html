<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scientific Calculator - WhizzyTools</title>
    <meta name="description" content="A powerful scientific calculator for all your math needs, from basic arithmetic to advanced functions like trigonometry and logarithms.">
    <style>
        * { box-sizing: border-box; }
        body { margin: 0; padding: 0; }
    </style>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;700&family=Inter:wght@400;500&family=Fira+Code:wght@400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicons/favicon-16x16.png">
    <link rel="manifest" href="assets/favicons/site.webmanifest">
    <link rel="shortcut icon" href="assets/favicons/favicon.ico">
    <style>
        :root {
            --bg-primary: #111827;
            --bg-secondary: #1F2937;
            --text-primary: #F3F4F6;
            --text-secondary: #9CA3AF;
            --accent-color: #22D3EE;
            --accent-hover: #67E8F9;
            --error-color: #F87171;
            --error-hover: #EF4444;
        }
        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            font-family: 'Inter', sans-serif;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Poppins', sans-serif;
        }
        .tool-button {
            background-color: var(--accent-color);
            color: var(--bg-primary);
            font-weight: 600;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            border: none;
            cursor: pointer;
            transition: background-color 0.2s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        .tool-button:hover {
            background-color: var(--accent-hover);
        }
        .calculator-card {
            background-color: var(--bg-secondary);
            border-radius: 1rem;
            border: 1px solid #374151;
            padding: 1.5rem;
            width: 100%;
            max-width: 95%;
            sm:max-width: 90%;
            md:max-width: 448px;
            lg:max-width: 576px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            margin: 0 auto;
        }
        .calculator-grid {
            display: grid;
            grid-template-columns: repeat(7, minmax(0, 1fr));
            grid-template-rows: repeat(5, 1fr);
            gap: 0.25rem;
        }
        .calculator-display {
            background-color: #2D3748;
            color: var(--text-primary);
            font-family: 'Fira Code', monospace;
            padding: 1.5rem;
            border-radius: 0.75rem;
            text-align: right;
            margin-bottom: 1rem;
            min-height: 4.9rem;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            overflow-x: auto;
            white-space: nowrap;
            border: 1px solid #4B5563;
        }
        .display-history {
            color: var(--text-secondary);
            font-size: 0.875rem;
            sm:font-size: 1rem;
            line-height: 1.5rem;
            max-height: 84px;
            overflow-y: auto;
        }
        .display-result {
            font-size: 1.5rem;
            sm:font-size: 1.75rem;
            font-weight: 600;
            height: 2.5rem;
            line-height: 2.5rem;
        }
        .calculator-button {
            background-color: #374151;
            color: var(--text-primary);
            padding: 0.5rem;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            sm:font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.1s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .calculator-button:hover {
            background-color: #4B5563;
            transform: scale(1.05);
        }
        .calculator-button.number {
            background-color: #1F2937;
        }
        .calculator-button.number:hover {
            background-color: #374151;
        }
        .calculator-button.operator {
            background-color: var(--accent-color);
            color: var(--bg-primary);
        }
        .calculator-button.operator:hover {
            background-color: var(--accent-hover);
        }
        .calculator-button.clear-all {
            background-color: var(--error-color);
            color: white;
        }
        .calculator-button.clear-all:hover {
            background-color: var(--error-hover);
        }
        .calculator-button.equal {
            background-color: var(--accent-color);
            color: var(--bg-primary);
            grid-column: span 2;
        }
        .calculator-button.equal:hover {
            background-color: var(--accent-hover);
        }
        .adsense-placeholder {
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #374151;
            border: 2px dashed #4B5563;
            color: var(--text-secondary);
            font-size: 0.75rem;
            border-radius: 0.5rem;
            width: 100%;
            margin-left: auto;
            margin-right: auto;
        }
        .adsense-top-banner {
            min-height: 90px;
        }
        .adsense-footer-banner {
            min-height: 90px;
        }
        @media (max-width: 640px) {
            .adsense-placeholder {
                margin: 0.5rem 0;
            }
            .calculator-card {
                padding: 1rem;
            }
            .calculator-button {
                padding: 0.5rem;
                font-size: 0.875rem;
            }
            .display-result {
                font-size: 1.25rem;
            }
        }
        @media (max-width: 360px) {
            .calculator-card {
                padding: 0.75rem;
            }
            .calculator-grid {
                gap: 0.25rem;
            }
            .calculator-button {
                padding: 0.375rem;
                font-size: 0.75rem;
            }
        }
    </style>
</head>
<body class="antialiased">
    <script type="text/javascript">0</script>
    <div id="page-content">
        <header class="py-3 px-2 sm:px-4 md:px-6 lg:px-12 flex justify-between items-center sticky top-0 bg-opacity-80 backdrop-blur-md z-50" style="background-color: rgba(17, 24, 39, 0.8);">
            <a href="index.html" class="flex items-center gap-1.5 group">
                <img src="assets/images/whizzytoolslogo.svg" alt="WhizzyTools Logo" class="w-7 h-7 sm:w-8 sm:h-8 group-hover:rotate-[-10deg] transition-transform duration-300">
                <div class="text-lg sm:text-xl md:text-2xl font-bold text-white">
                    Whizzy<span class="text-[var(--accent-color)]">Tools</span>
                </div>
            </a>
            <nav class="hidden md:flex items-center space-x-4 lg:space-x-6 text-sm md:text-base">
                <a href="index.html" class="text-gray-300 hover:text-white transition">Home</a>
                <a href="index.html#tools" class="text-gray-300 hover:text-white transition">All Tools</a>
                <a href="about.html" class="text-gray-300 hover:text-white transition">About</a>
                <a href="contact.html" class="text-gray-300 hover:text-white transition">Contact</a>
            </nav>
            <div class="hidden md:flex items-center gap-3">
                <a href="github-gateway.html" class="px-3 py-1.5 text-sm md:text-base font-semibold text-white rounded-md transition" style="background-color: var(--accent-color); color: var(--bg-primary);">GitHub</a>
            </div>
            <button id="menu-toggle" class="md:hidden text-white focus:outline-none">
                <svg class="w-6 h-6 sm:w-7 sm:h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
            </button>
        </header>
        <div id="mobile-menu" class="hidden md:hidden bg-[var(--bg-secondary)] px-2 sm:px-4 py-3 border-b border-gray-600">
            <nav class="flex flex-col space-y-3 text-sm sm:text-base">
                <a href="index.html" class="text-gray-300 hover:text-white transition">Home</a>
                <a href="index.html#tools" class="text-gray-300 hover:text-white transition">All Tools</a>
                <a href="about.html" class="text-gray-300 hover:text-white transition">About</a>
                <a href="contact.html" class="text-gray-300 hover:text-white transition">Contact</a>
                <a href="github-gateway.html" class="px-3 py-1.5 text-sm sm:text-base font-semibold text-white rounded-md transition inline-block text-center mx-auto" style="background-color: var(--accent-color); color: var(--bg-primary);">GitHub</a>
            </nav>
        </div>
        <main class="px-2 sm:px-4 md:px-6 lg:px-12 pb-6 flex-1">
            <div class="text-center max-w-[95%] sm:max-w-[90%] md:max-w-2xl lg:max-w-3xl mx-auto my-4 sm:my-6 md:my-8">
                <h1 class="text-base sm:text-lg md:text-xl lg:text-2xl font-bold tracking-tight">Scientific Calculator</h1>
                <p class="mt-2 sm:mt-3 md:mt-4 text-sm sm:text-base md:text-lg" style="color: var(--text-secondary);">
                    A complete scientific calculator for basic and advanced math.
                </p>
            </div>
            <div class="adsense-placeholder adsense-top-banner max-w-[280px] sm:max-w-[336px] md:max-w-[728px] lg:max-w-[970px] min-h-[90px] my-2 sm:my-3 md:my-4 mx-auto">
                <span>Ad Space (Responsive)</span>
            </div>
            <div class="max-w-[95%] sm:max-w-[90%] md:max-w-lg lg:max-w-xl mx-auto mt-4 sm:mt-6 md:mt-8">
                <div class="calculator-card p-4 sm:p-6">
                    <div id="calculator-display" class="calculator-display">
                        <div id="display-history" class="display-history"></div>
                        <div id="display-result" class="display-result">0</div>
                    </div>
                    <div class="calculator-grid">
                        <button class="calculator-button" onclick="sinfn()">sin</button>
                        <button class="calculator-button" onclick="cosfn()">cos</button>
                        <button class="calculator-button" onclick="tanfn()">tan</button>
                        <button class="calculator-button" onclick="logfn()">log</button>
                        <button class="calculator-button clear-all" onclick="back()">CE</button>
                        <button class="calculator-button clear-all" onclick="allclr()">AC</button>
                        <button class="calculator-button operator" onclick="display1('+')">+</button>
                        <button class="calculator-button" onclick="abs()">abs</button>
                        <button class="calculator-button" onclick="lnfn()">ln</button>
                        <button class="calculator-button" onclick="e()">e</button>
                        <button class="calculator-button number" onclick="display1('7')">7</button>
                        <button class="calculator-button number" onclick="display1('8')">8</button>
                        <button class="calculator-button number" onclick="display1('9')">9</button>
                        <button class="calculator-button operator" onclick="display1('-')">-</button>
                        <button class="calculator-button" onclick="squareroot()">√</button>
                        <button class="calculator-button" onclick="pi()">π</button>
                        <button class="calculator-button" onclick="percentage()">%</button>
                        <button class="calculator-button number" onclick="display1('4')">4</button>
                        <button class="calculator-button number" onclick="display1('5')">5</button>
                        <button class="calculator-button number" onclick="display1('6')">6</button>
                        <button class="calculator-button operator" onclick="multiply()">×</button>
                        <button class="calculator-button" onclick="square()">x²</button>
                        <button class="calculator-button" onclick="power()">x^y</button>
                        <button class="calculator-button" onclick="display1('(')">(</button>
                        <button class="calculator-button number" onclick="display1('1')">1</button>
                        <button class="calculator-button number" onclick="display1('2')">2</button>
                        <button class="calculator-button number" onclick="display1('3')">3</button>
                        <button class="calculator-button operator" onclick="display1('/')">/</button>
                        <button class="calculator-button" onclick="exp()">10^x</button>
                        <button class="calculator-button" onclick="factorial()">x!</button>
                        <button class="calculator-button" onclick="display1(')')">)</button>
                        <button class="calculator-button number" onclick="display1('0')">0</button>
                        <button class="calculator-button number" onclick="display1('.')">.</button>
                        <button class="calculator-button equal" onclick="runtwofunction()">=</button>
                    </div>
                </div>
            </div>
        </main>
        <footer class="text-center py-6 px-2 sm:px-4 md:px-6 lg:px-12 mt-10 border-t" style="border-color: #374151;">
            <div class="adsense-placeholder adsense-footer-banner max-w-[280px] sm:max-w-[336px] md:max-w-[728px] lg:max-w-[970px] min-h-[90px] mb-4 mx-auto">
                <span>Ad Space (Responsive)</span>
            </div>
            <p class="text-sm sm:text-base md:text-lg" style="color: var(--text-secondary);">
                © 2025 WhizzyTools. All Rights Reserved.
            </p>
            <div class="mt-3 flex justify-center space-x-4 sm:space-x-6">
                <a href="privacy.html" class="text-sm sm:text-base md:text-lg text-gray-400 hover:underline">Privacy Policy</a>
                <a href="about.html" class="text-sm sm:text-base md:text-lg text-gray-400 hover:underline">About Us</a>
                <a href="contact.html" class="text-sm sm:text-base md:text-lg text-gray-400 hover:underline">Contact</a>
            </div>
        </footer>
    </div>
    <script>
        // Code written by yogesh agarwala https://yogeshiitm.github.io
        var expression2 = "";
        var temp = '';
        var check = 0;
        var expression1 = document.getElementById("display-result");
        var history = document.getElementById("display-history");
        function display1(val) {
            var x = expression1.textContent;
            var n = x.length - 1;
            if (check == 0 && ((x[n] == ")" || x[n] == "!" || x[n] == "π" || x[n] == "e" || x[n] == "\u00B2" || x[n] == "%") && (val == 0 || val == 1 || val == 2 || val == 3 || val == 4 || val == 5 || val == 6 || val == 7 || val == 8 || val == 9))) {
                multiply();
            }
            if (check == 1 && val == ")") {
                clr();
            } else {
                display2(val);
                display3(val);
            }
        }
        function display2(val) {
            if (check == 1) {
                if (val == '0' || val == '1' || val == '2' || val == '3' || val == '4' || val == '5' || val == '6' || val == '7' || val == '8' || val == '9' || val == "(" || val == ")" || val == "sin(" || val == "cos(" || val == "tan(" || val == "log(" || val == "ln(" || val == "π" || val == "e" || val == "√(" || val == "abs(") {
                    clr();
                } else if (expression2 == "Error" || expression2 == "NaN") {
                    clr();
                } else {
                    check = 0;
                }
            }
            expression1.textContent += val;
            scroll_right();
        }
        function display3(val) {
            if (check == 1) {
                if (val == '0' || val == '1' || val == '2' || val == '3' || val == '4' || val == '5' || val == '6' || val == '7' || val == '8' || val == '9' || val == "(" || val == ")" || val == "sss(" || val == "ccc(" || val == "ttt(" || val == "lll(" || val == "jj(" || val == "π" || val == "e" || val == "√(" || val == "aaa(") {
                    clr();
                } else if (expression2 == "Error" || expression2 == "NaN") {
                    clr();
                } else {
                    check = 0;
                }
            }
            expression2 += val;
            scroll_right();
        }
        function solve() {
            check = 1;
            var x = expression1.textContent;
            var o = expression2.indexOf('!');
            if (o > -1) {
                for (var k = 0; k < expression2.length; k++) {
                    if (expression2[k] == '!') {
                        if (expression2[k - 1] == ')') {
                            var i = k - 1;
                            while (expression2[i] != '(') {
                                i = i - 1;
                            }
                            if (expression2[i - 1] == '.') {
                                history.textContent += "\n" + x + " = " + 'Error' + "\n" + "Factorial function is defined for non-negative integers.";
                                expression1.textContent = "Error";
                                expression2 = "Error";
                                gfg_Run();
                                return;
                            }
                            var n = eval(expression2.substring(i, k));
                            var ans = 1;
                            for (var j = 1; j <= n; j++) {
                                ans = ans * j;
                            }
                            expression2 = expression2.substring(0, i) + String(ans) + expression2.substring(k + 1, expression2.length);
                            if ((ans == 1 && n != 0 && n != 1)) {
                                history.textContent += "\n" + x + " = " + 'Error' + "\n" + "Factorial function is defined for non-negative integers.";
                                expression1.textContent = "Error";
                                expression2 = "Error";
                                gfg_Run();
                                return;
                            }
                        } else {
                            var i = k - 1;
                            while (i >= 0 && (expression2[i] == '0' || expression2[i] == '1' || expression2[i] == '2' || expression2[i] == '3' || expression2[i] == '4' || expression2[i] == '5' || expression2[i] == '6' || expression2[i] == '7' || expression2[i] == '8' || expression2[i] == '9' || expression2[i] == '.')) {
                                i = i - 1;
                            }
                            if (i >= 0 && expression2[i] == '.') {
                                history.textContent += "\n" + x + " = " + 'Error' + "\n" + "Factorial function is defined for non-negative integers.";
                                expression1.textContent = "Error";
                                expression2 = "Error";
                                gfg_Run();
                                return;
                            }
                            var n = eval(expression2.substring(i + 1, k));
                            var ans = 1;
                            for (var j = 1; j <= n; j++) {
                                ans = ans * j;
                            }
                            expression2 = expression2.substring(0, i + 1) + String(ans) + expression2.substring(k + 1, expression2.length);
                            if ((ans == 1 && n != 0 && n != 1)) {
                                history.textContent += "\n" + x + " = " + 'Error' + "\n" + "Factorial function is defined for non-negative integers.";
                                expression1.textContent = "Error";
                                expression2 = "Error";
                                gfg_Run();
                                return;
                            }
                        }
                    }
                }
            }
            var p = expression2.indexOf('√');
            if (p > -1) {
                for (var k = 0; k < expression2.length; k++) {
                    if (expression2[k] == '√') {
                        if (expression2[k + 1] == '(') {
                            var i = k + 2;
                            while (expression2[i] != ')' && i != expression2.length) {
                                i = i + 1;
                            }
                            if (i == expression2.length && expression2[i] != ')') {
                                x += ")";
                            }
                            var n = eval(expression2.substring(k + 2, i));
                            var ans = Math.pow(n, 0.5);
                            expression2 = expression2.substring(0, k) + String(ans) + expression2.substring(i + 1, expression2.length);
                        } else {
                            var i = k + 1;
                            while (i < expression2.length && (expression2[i] == '0' || expression2[i] == '1' || expression2[i] == '2' || expression2[i] == '3' || expression2[i] == '4' || expression2[i] == '5' || expression2[i] == '6' || expression2[i] == '7' || expression2[i] == '8' || expression2[i] == '9' || expression2[i] == '.')) {
                                i = i + 1;
                            }
                            var n = eval(expression2.substring(k + 1, i));
                            var ans = Math.pow(n, 0.5);
                            expression2 = expression2.substring(0, k) + String(ans) + expression2.substring(i, expression2.length);
                        }
                    }
                }
            }
            var q = expression2.indexOf('s');
            if (q > -1) {
                for (var k = 0; k < expression2.length; k++) {
                    if (expression2[k] == 's') {
                        if (expression2[k + 3] == '(') {
                            var i = k + 4;
                            while (expression2[i] != ')' && i != expression2.length) {
                                i = i + 1;
                            }
                            if (i == expression2.length && expression2[i] != ')') {
                                x += ")";
                            }
                            var n = eval(expression2.substring(k + 4, i));
                            var ans = Math.sin((n / 180) * Math.PI);
                            expression2 = expression2.substring(0, k) + String(ans) + expression2.substring(i + 1, expression2.length);
                        } else {
                            var i = k + 3;
                            while (i < expression2.length && (expression2[i] == '0' || expression2[i] == '1' || expression2[i] == '2' || expression2[i] == '3' || expression2[i] == '4' || expression2[i] == '5' || expression2[i] == '6' || expression2[i] == '7' || expression2[i] == '8' || expression2[i] == '9' || expression2[i] == '.')) {
                                i = i + 1;
                            }
                            var n = eval(expression2.substring(k + 3, i));
                            var ans = Math.sin((n / 180) * Math.PI);
                            expression2 = expression2.substring(0, k) + String(ans) + expression2.substring(i, expression2.length);
                        }
                    }
                }
            }
            var r = expression2.indexOf('c');
            if (r > -1) {
                for (var k = 0; k < expression2.length; k++) {
                    if (expression2[k] == 'c') {
                        if (expression2[k + 3] == '(') {
                            var i = k + 4;
                            while (expression2[i] != ')' && i != expression2.length) {
                                i = i + 1;
                            }
                            if (i == expression2.length && expression2[i] != ')') {
                                x += ")";
                            }
                            var n = eval(expression2.substring(k + 4, i));
                            var ans = Math.cos((n / 180) * Math.PI);
                            expression2 = expression2.substring(0, k) + String(ans) + expression2.substring(i + 1, expression2.length);
                        } else {
                            var i = k + 3;
                            while (i < expression2.length && (expression2[i] == '0' || expression2[i] == '1' || expression2[i] == '2' || expression2[i] == '3' || expression2[i] == '4' || expression2[i] == '5' || expression2[i] == '6' || expression2[i] == '7' || expression2[i] == '8' || expression2[i] == '9' || expression2[i] == '.')) {
                                i = i + 1;
                            }
                            var n = eval(expression2.substring(k + 3, i));
                            var ans = Math.cos((n / 180) * Math.PI);
                            expression2 = expression2.substring(0, k) + String(ans) + expression2.substring(i, expression2.length);
                        }
                    }
                }
            }
            var s = expression2.indexOf('t');
            if (s > -1) {
                for (var k = 0; k < expression2.length; k++) {
                    if (expression2[k] == 't') {
                        if (expression2[k + 3] == '(') {
                            var i = k + 4;
                            while (expression2[i] != ')' && i != expression2.length) {
                                i = i + 1;
                            }
                            if (i == expression2.length && expression2[i] != ')') {
                                x += ")";
                            }
                            var n = eval(expression2.substring(k + 4, i));
                            if (n % 90 == 0 && n % 180 != 0) {
                                expression2 = Infinity;
                                expression1.textContent = Infinity;
                                history.textContent += "\n" + x + " = " + expression2;
                                gfg_Run();
                                return;
                            } else {
                                var ans = Math.tan((n / 180) * Math.PI);
                                expression2 = expression2.substring(0, k) + String(ans) + expression2.substring(i + 1, expression2.length);
                            }
                        } else {
                            var i = k + 3;
                            while (i < expression2.length && (expression2[i] == '0' || expression2[i] == '1' || expression2[i] == '2' || expression2[i] == '3' || expression2[i] == '4' || expression2[i] == '5' || expression2[i] == '6' || expression2[i] == '7' || expression2[i] == '8' || expression2[i] == '9' || expression2[i] == '.')) {
                                i = i + 1;
                            }
                            var n = eval(expression2.substring(k + 3, i));
                            if (n % 90 == 0 && n % 180 != 0) {
                                expression2 = Infinity;
                                expression1.textContent = Infinity;
                                history.textContent += "\n" + x + " = " + expression2;
                                gfg_Run();
                                return;
                            } else {
                                var ans = Math.tan((n / 180) * Math.PI);
                                expression2 = expression2.substring(0, k) + String(ans) + expression2.substring(i, expression2.length);
                            }
                        }
                    }
                }
            }
            var t = expression2.indexOf('l');
            if (t > -1) {
                for (var k = 0; k < expression2.length; k++) {
                    if (expression2[k] == 'l') {
                        if (expression2[k + 3] == '(') {
                            var i = k + 4;
                            while (expression2[i] != ')' && i != expression2.length) {
                                i = i + 1;
                            }
                            if (i == expression2.length && expression2[i] != ')') {
                                x += ")";
                            }
                            var n = eval(expression2.substring(k + 4, i));
                            var ans = Math.log10(n);
                            expression2 = expression2.substring(0, k) + String(ans) + expression2.substring(i + 1, expression2.length);
                        } else {
                            var i = k + 3;
                            while (i < expression2.length && (expression2[i] == '0' || expression2[i] == '1' || expression2[i] == '2' || expression2[i] == '3' || expression2[i] == '4' || expression2[i] == '5' || expression2[i] == '6' || expression2[i] == '7' || expression2[i] == '8' || expression2[i] == '9' || expression2[i] == '.')) {
                                i = i + 1;
                            }
                            var n = eval(expression2.substring(k + 3, i));
                            var ans = Math.log10(n);
                            expression2 = expression2.substring(0, k) + String(ans) + expression2.substring(i, expression2.length);
                        }
                    }
                }
            }
            var u = expression2.indexOf('j');
            if (u > -1) {
                for (var k = 0; k < expression2.length; k++) {
                    if (expression2[k] == 'j') {
                        if (expression2[k + 2] == '(') {
                            var i = k + 3;
                            while (expression2[i] != ')' && i != expression2.length) {
                                i = i + 1;
                            }
                            if (i == expression2.length && expression2[i] != ')') {
                                x += ")";
                            }
                            var n = eval(expression2.substring(k + 3, i));
                            var ans = Math.log(n);
                            expression2 = expression2.substring(0, k) + String(ans) + expression2.substring(i + 1, expression2.length);
                        } else {
                            var i = k + 2;
                            while (i < expression2.length && (expression2[i] == '0' || expression2[i] == '1' || expression2[i] == '2' || expression2[i] == '3' || expression2[i] == '4' || expression2[i] == '5' || expression2[i] == '6' || expression2[i] == '7' || expression2[i] == '8' || expression2[i] == '9' || expression2[i] == '.')) {
                                i = i + 1;
                            }
                            var n = eval(expression2.substring(k + 2, i));
                            var ans = Math.log(n);
                            expression2 = expression2.substring(0, k) + String(ans) + expression2.substring(i, expression2.length);
                        }
                    }
                }
            }
            var v = expression2.indexOf('a');
            if (v > -1) {
                for (var k = 0; k < expression2.length; k++) {
                    if (expression2[k] == 'a') {
                        if (expression2[k + 3] == '(') {
                            var i = k + 4;
                            while (expression2[i] != ')' && i != expression2.length) {
                                i = i + 1;
                            }
                            if (i == expression2.length && expression2[i] != ')') {
                                x += ")";
                            }
                            var n = eval(expression2.substring(k + 4, i));
                            var ans = Math.abs(n);
                            expression2 = expression2.substring(0, k) + String(ans) + expression2.substring(i + 1, expression2.length);
                        } else {
                            var i = k + 3;
                            while (i < expression2.length && (expression2[i] == '0' || expression2[i] == '1' || expression2[i] == '2' || expression2[i] == '3' || expression2[i] == '4' || expression2[i] == '5' || expression2[i] == '6' || expression2[i] == '7' || expression2[i] == '8' || expression2[i] == '9' || expression2[i] == '.')) {
                                i = i + 1;
                            }
                            var n = eval(expression2.substring(k + 3, i));
                            var ans = Math.abs(n);
                            expression2 = expression2.substring(0, k) + String(ans) + expression2.substring(i, expression2.length);
                        }
                    }
                }
            }
            try {
                var y = eval(expression2);
                if (y === undefined) {
                    expression1.textContent = "Error";
                    gfg_Run();
                } else if (isNaN(y)) {
                    expression2 = "NaN";
                    expression1.textContent = "NaN";
                    history.textContent += "\n" + x + " = " + expression2;
                    gfg_Run();
                } else if (y == Infinity || y == -Infinity) {
                    expression2 = Infinity;
                    expression1.textContent = Infinity;
                    history.textContent += "\n" + x + " = " + expression2;
                    gfg_Run();
                } else {
                    var z = y.toFixed(10);
                    var w = parseFloat(z);
                    temp = w;
                    expression2 = String(w);
                    expression1.textContent = expression2;
                    if (expression2 != "Error") {
                        history.textContent += "\n" + x + " = " + expression2;
                        gfg_Run();
                    }
                }
            } catch (error) {
                expression1.textContent = "Error";
                expression2 = "Error";
                history.textContent += "\n" + x + " = " + expression2;
                gfg_Run();
            }
        }
        function checkBalancedParentheses(str) {
            let stack = [];
            let map = {
                '(': ')',
                '[': ']',
                '{': '}'
            }
            for (let i = 0; i < str.length; i++) {
                if (str[i] === '(' || str[i] === '{' || str[i] === '[') {
                    stack.push(str[i]);
                } else if (str[i] === ')' || str[i] === '}' || str[i] === ']') {
                    let last = stack.pop();
                    if (str[i] !== map[last]) { return 0; }
                }
            }
            if (stack.length !== 0) { return 1; }
            return 2;
        }
        function back() {
            var v = expression1.textContent;
            var m = expression2[expression2.length - 2];
            var n = expression2[expression2.length - 1];
            var p = v[v.length - 2];
            var q = v[v.length - 1];
            if (check == 1 || expression2 == "Error" || expression2 == "NaN") {
                clr();
            } else if (m == '*' && n == '*') {
                expression2 = expression2.substring(0, expression2.length - 2);
                expression1.textContent = v.substring(0, v.length - 1);
            } else if (n == '*' && q == '\u00D7') {
                expression2 = expression2.substring(0, expression2.length - 1);
                expression1.textContent = v.substring(0, v.length - 1);
            } else if (q == "π" || q == "e") {
                expression2 = expression2.substring(0, expression2.length - 17);
                expression1.textContent = v.substring(0, v.length - 1);
            } else {
                expression2 = expression2.substring(0, expression2.length - 1);
                expression1.textContent = v.substring(0, v.length - 1);
            }
            check = 0;
            scroll_right();
        }
        function clr() {
            expression1.textContent = "";
            expression2 = "";
            check = 0;
        }
        function allclr() {
            history.textContent = "";
            expression1.textContent = "";
            expression2 = "";
            check = 0;
        }
        function gfg_Run() {
            var text = history;
            text.scrollTop = text.scrollHeight;
        }
        function scroll_right() {
            var text = expression1;
            text.scrollLeft = text.scrollWidth;
        }
        function runtwofunction() {
            var x = expression1.textContent;
            var y = checkBalancedParentheses(x);
            if (y == 0) {
                history.textContent += "\n" + x + " = " + "Error" + "\n" + "Unbalanced parentheses.";
                expression1.textContent = "Error";
                expression2 = "Error";
                gfg_Run();
            } else if (y == 1) {
                expression1.textContent += ")";
                expression2 += ")";
                solve();
            } else {
                solve();
            }
        }
        function answer() {
            expression1.textContent += temp;
            expression2 += temp;
        }
        function pi() {
            var x = expression1.textContent;
            var n = x.length - 1;
            if (check == 0 && ((x[n] == ")" || x[n] == "!" || x[n] == "π" || x[n] == "e" || x[n] == "\u00B2" || x[n] == "%" || x[n] == "0" || x[n] == "1" || x[n] == "2" || x[n] == "3" || x[n] == "4" || x[n] == "5" || x[n] == "6" || x[n] == "7" || x[n] == "8" || x[n] == "9"))) {
                multiply();
            }
            display2('π');
            display3(String(Math.PI));
            check = 0;
        }
        function e() {
            var x = expression1.textContent;
            var n = x.length - 1;
            if (check == 0 && ((x[n] == ")" || x[n] == "!" || x[n] == "π" || x[n] == "e" || x[n] == "\u00B2" || x[n] == "%" || x[n] == "0" || x[n] == "1" || x[n] == "2" || x[n] == "3" || x[n] == "4" || x[n] == "5" || x[n] == "6" || x[n] == "7" || x[n] == "8" || x[n] == "9"))) {
                multiply();
            }
            display2('e');
            display3(String(Math.E));
            check = 0;
        }
        function power() {
            display2('^');
            display3('**');
            check = 0;
        }
        function multiply() {
            display2('\u00D7');
            display3('*');
            check = 0;
        }
        function square() {
            display2('\u00B2');
            display3('**2');
            check = 0;
        }
        function squareroot() {
            var x = expression1.textContent;
            var n = x.length - 1;
            if (check == 0 && ((x[n] == ")" || x[n] == "!" || x[n] == "π" || x[n] == "e" || x[n] == "\u00B2" || x[n] == "%" || x[n] == "0" || x[n] == "1" || x[n] == "2" || x[n] == "3" || x[n] == "4" || x[n] == "5" || x[n] == "6" || x[n] == "7" || x[n] == "8" || x[n] == "9"))) {
                multiply();
            }
            display2('√(');
            display3('√(');
            check = 0;
        }
        function factorial() {
            display2('!');
            display3('!');
            check = 0;
        }
        function percentage() {
            display2('%');
            display3('/100');
            check = 0;
        }
        function sinfn() {
            var x = expression1.textContent;
            var n = x.length - 1;
            if (check == 0 && ((x[n] == ")" || x[n] == "!" || x[n] == "π" || x[n] == "e" || x[n] == "\u00B2" || x[n] == "%" || x[n] == "0" || x[n] == "1" || x[n] == "2" || x[n] == "3" || x[n] == "4" || x[n] == "5" || x[n] == "6" || x[n] == "7" || x[n] == "8" || x[n] == "9"))) {
                multiply();
            }
            display2('sin(');
            display3('sss(');
            check = 0;
            var m = history.textContent.indexOf('Enter');
            if (m < 0) {
                history.textContent += "\n" + "Enter angle in degree.";
                gfg_Run();
            }
        }
        function cosfn() {
            var x = expression1.textContent;
            var n = x.length - 1;
            if (check == 0 && ((x[n] == ")" || x[n] == "!" || x[n] == "π" || x[n] == "e" || x[n] == "\u00B2" || x[n] == "%" || x[n] == "0" || x[n] == "1" || x[n] == "2" || x[n] == "3" || x[n] == "4" || x[n] == "5" || x[n] == "6" || x[n] == "7" || x[n] == "8" || x[n] == "9"))) {
                multiply();
            }
            display2('cos(');
            display3('ccc(');
            check = 0;
            var m = history.textContent.indexOf('Enter');
            if (m < 0) {
                history.textContent += "\n" + "Enter angle in degree.";
                gfg_Run();
            }
        }
        function tanfn() {
            var x = expression1.textContent;
            var n = x.length - 1;
            if (check == 0 && ((x[n] == ")" || x[n] == "!" || x[n] == "π" || x[n] == "e" || x[n] == "\u00B2" || x[n] == "%" || x[n] == "0" || x[n] == "1" || x[n] == "2" || x[n] == "3" || x[n] == "4" || x[n] == "5" || x[n] == "6" || x[n] == "7" || x[n] == "8" || x[n] == "9"))) {
                multiply();
            }
            display2('tan(');
            display3('ttt(');
            check = 0;
            var m = history.textContent.indexOf('Enter');
            if (m < 0) {
                history.textContent += "\n" + "Enter angle in degree.";
                gfg_Run();
            }
        }
        function logfn() {
            var x = expression1.textContent;
            var n = x.length - 1;
            if (check == 0 && ((x[n] == ")" || x[n] == "!" || x[n] == "π" || x[n] == "e" || x[n] == "\u00B2" || x[n] == "%" || x[n] == "0" || x[n] == "1" || x[n] == "2" || x[n] == "3" || x[n] == "4" || x[n] == "5" || x[n] == "6" || x[n] == "7" || x[n] == "8" || x[n] == "9"))) {
                multiply();
            }
            display2('log(');
            display3('lll(');
            check = 0;
        }
        function lnfn() {
            var x = expression1.textContent;
            var n = x.length - 1;
            if (check == 0 && ((x[n] == ")" || x[n] == "!" || x[n] == "π" || x[n] == "e" || x[n] == "\u00B2" || x[n] == "%" || x[n] == "0" || x[n] == "1" || x[n] == "2" || x[n] == "3" || x[n] == "4" || x[n] == "5" || x[n] == "6" || x[n] == "7" || x[n] == "8" || x[n] == "9"))) {
                multiply();
            }
            display2('ln(');
            display3('jj(');
            check = 0;
        }
        function abs() {
            var x = expression1.textContent;
            var n = x.length - 1;
            if (check == 0 && ((x[n] == ")" || x[n] == "!" || x[n] == "π" || x[n] == "e" || x[n] == "\u00B2" || x[n] == "%" || x[n] == "0" || x[n] == "1" || x[n] == "2" || x[n] == "3" || x[n] == "4" || x[n] == "5" || x[n] == "6" || x[n] == "7" || x[n] == "8" || x[n] == "9"))) {
                multiply();
            }
            display2('abs(');
            display3('aaa(');
            check = 0;
        }
        function exp() {
            display2('\u00D710^');
            display3('*10**');
            check = 0;
        }
        document.addEventListener('DOMContentLoaded', function() {
            const menuToggle = document.getElementById('menu-toggle');
            const mobileMenu = document.getElementById('mobile-menu');
            menuToggle.addEventListener('click', function() {
                mobileMenu.classList.toggle('hidden');
            });
        });
        document.addEventListener('keydown', keyPressed);
        function keyPressed(e) {
            if (e.key == "1") { display1('1'); }
            else if (e.key == "2") { display1('2'); }
            else if (e.key == "3") { display1('3'); }
            else if (e.key == "4") { display1('4'); }
            else if (e.key == "5") { display1('5'); }
            else if (e.key == "6") { display1('6'); }
            else if (e.key == "7") { display1('7'); }
            else if (e.key == "8") { display1('8'); }
            else if (e.key == "9") { display1('9'); }
            else if (e.key == "0") { display1('0'); }
            else if (e.key == ".") { display1('.'); }
            else if (e.key == "/") { display1('/'); }
            else if (e.key == "*") { multiply(); }
            else if (e.key == "+") { display1('+'); }
            else if (e.key == "-") { display1('-'); }
            else if (e.key == "^") { power(); }
            else if (e.key == "%") { percentage(); }
            else if (e.key == "(") { display1('('); }
            else if (e.key == ")") { display1(')'); }
            else if (e.key == "Enter" || e.key == "=") { runtwofunction(); }
            else if (e.key == "Backspace" || e.key == "Delete") { back(); }
            else if (e.key == "s" || e.key == "S") { sinfn(); }
            else if (e.key == "c" || e.key == "C") { cosfn(); }
            else if (e.key == "t" || e.key == "T") { tanfn(); }
            else if (e.key == "l" || e.key == "L") { logfn(); }
            else if (e.key == "j" || e.key == "J") { lnfn(); }
            else if (e.key == "!") { factorial(); }
            else if (e.key == "p" || e.key == "P") { pi(); }
            else if (e.key == "e" || e.key == "E") { e(); }
            else if (e.key == "a" || e.key == "A") { abs(); }
            else if (e.key == "x" || e.key == "X") { exp(); }
        }
    </script>
</body>
</html>